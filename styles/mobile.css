/* --- 手机端样式 --- */

/* 全局初始化：清除默认边距，统一盒模型 */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html,
body {
  height: 100%;
  font-family: "Noto Sans SC", sans-serif; /* 默认中文字体 */
  overflow: auto; /* 手机端允许滚动 */
}

/* 页面主容器：竖向排列 */
.container {
  display: flex;
  flex-direction: column; /* 上下排列（适合竖屏） */
  width: 100%;
  height: auto; /* 自动高度以适应滚动 */
  min-height: 100vh;
  opacity: 0; /* 初始透明 */
  transition: opacity 1.5s ease-in-out;
}

/* 图片区域（顶部） */
.image-column {
  width: 100%;
  aspect-ratio: 16 / 9; /* 固定比例（宽高比16:9） */
  background-image: url("../images/ferris-phone.jpg");
  background-size: cover;
  background-position: center;
  opacity: 0;
  transform: translateY(-20px); /* 初始向上偏移 */
  transition: opacity 1.5s ease-out 0.3s, transform 1.5s ease-out 0.3s;
  flex-shrink: 0; /* 防止图片被压缩 */
}

/* 文本区域（底部） */
.text-column {
  flex: 1; /* 占满剩余空间 */
  width: 100%;
  padding: 3rem 1.5rem 4rem; /* 上左右下内边距 */
  background-image: linear-gradient(to bottom, #24003d, #4b0082); /* 渐变背景 */
  background-color: #24003d; /* 备用背景色 */
  color: #f0e6ff;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* 诗歌整体样式 */
.poem {
  max-width: 320px; /* 限制宽度，避免文字太宽 */
  opacity: 0;
  transform: translateY(30px); /* 初始向下偏移 */
  transition: opacity 1.5s ease-out 0.6s, transform 1.5s ease-out 0.6s;
}

/* 诗歌标题样式 */
.poem h1 {
  font-family: "Songti SC", "Source Han Serif SC", "Noto Serif SC", serif;
  font-size: 2.2rem;
  font-weight: 600;
  margin-bottom: 2rem;
  text-align: center;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 1.2s ease-out 0.9s, transform 1.2s ease-out 0.9s;
}

/* 诗歌正文样式 */
.poem p {
  font-family: "PingFang SC", "Microsoft YaHei", "Noto Sans SC", sans-serif;
  font-size: 1.1rem;
  line-height: 1.9; /* 行距更舒适 */
  margin-bottom: 1.5rem;
  opacity: 0;
  transform: translateY(15px);
  transition: opacity 1s ease-out, transform 1s ease-out;
}

/* --- 逐句淡入：通过延迟实现 --- */
.poem p:nth-child(2) {
  transition-delay: 1.1s;
}
.poem p:nth-child(3) {
  transition-delay: 1.3s;
}
.poem p:nth-child(4) {
  transition-delay: 1.5s;
}
.poem p:nth-child(5) {
  transition-delay: 1.7s;
}

/* 音乐开关按钮（右下角） */
.music-toggle {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 40px;
  height: 40px;
  cursor: pointer;
  opacity: 0; /* 初始隐藏 */
  transform: scale(0.6); /* 初始缩小 */
  transition: opacity 1s ease-in-out 1.9s, transform 1s ease-in-out 1.9s;
  z-index: 100; /* 确保按钮在最上层 */
}

/* 按下按钮时，快速缩小，模拟点击效果 */
.music-toggle:active {
  transform: scale(0.9);
  transition: transform 0.1s ease-out;
}

/* 按钮图标大小自适应 */
.music-toggle img {
  width: 100%;
  height: 100%;
}

/* 默认暂停图标隐藏 */
.icon-pause {
  display: none;
}

/* 播放状态下：隐藏播放图标，显示暂停图标 */
.music-toggle.playing .icon-play {
  display: none;
}
.music-toggle.playing .icon-pause {
  display: block;
}

/* --- 页面加载完成后的状态 --- */
body.loaded .container {
  opacity: 1;
}
body.loaded .image-column {
  opacity: 1;
  transform: translateY(0);
}
body.loaded .poem {
  opacity: 1;
  transform: translateY(0);
}
body.loaded .poem h1 {
  opacity: 1;
  transform: translateY(0);
}
body.loaded .poem p {
  opacity: 1;
  transform: translateY(0);
}
body.loaded .music-toggle {
  opacity: 0.8; /* 出现但稍微透明 */
  transform: scale(1);
}

/* --- 屏幕高度较小时的适配 --- */
@media (max-height: 640px) {
  .text-column {
    padding: 1.5rem 1rem 3.5rem; /* 缩小上下边距 */
  }
  .poem h1 {
    font-size: 1.9rem;
    margin-bottom: 1.5rem;
  }
  .poem p {
    font-size: 1rem;
    margin-bottom: 1.5rem;
    line-height: 1.8;
  }
}

/* 超小屏幕高度（例如 iPhone SE）再进一步缩小 */
@media (max-height: 568px) {
  .poem {
    max-width: 280px;
  }
  .poem h1 {
    font-size: 1.7rem;
    margin-bottom: 1.2rem;
  }
  .poem p {
    font-size: 0.95rem;
    margin-bottom: 1.3rem;
    line-height: 1.7;
  }
}
