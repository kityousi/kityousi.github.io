/* --- 桌面端样式 --- */

/* 全局初始化：清除默认边距，设置盒子模型为 border-box */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* 页面基础设置 */
html,
body {
  height: 100%; /* 页面高度占满整个浏览器 */
  font-family: "Noto Sans SC", sans-serif; /* 默认中文无衬线字体 */
  overflow: hidden; /* 禁止滚动条出现 */
}

/* 页面主容器：用来包裹左右两列 */
.container {
  display: flex; /* 使用 Flex 布局，横向排列 */
  width: 100%;
  height: 100%;
  opacity: 0; /* 初始透明 */
  transition: opacity 1.5s ease-in-out; /* 渐显动画 */
}

/* 加载指示器 */
.loading-indicator {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #f0e6ff;
  font-size: 1rem;
  z-index: 1000;
  opacity: 1;
  transition: opacity 0.5s ease-out;
}

/* 隐藏加载指示器 */
body.loaded .loading-indicator {
  opacity: 0;
  pointer-events: none;
}

/* 左边图片区域 */
.image-column {
  flex: 45%; /* 占比 45% */
  background-image: url("../images/ferris.jpg"); /* 设置背景图 */
  background-size: cover; /* 背景图等比铺满 */
  background-position: center; /* 背景图居中 */
  opacity: 0; /* 初始不可见 */
  transform: translateX(-30px); /* 初始向左偏移 30px */
  transition: opacity 1.5s ease-out 0.2s, transform 1.5s ease-out 0.2s;
  /* 延迟 0.2s 的淡入+位移动画 */
}

/* 右边文本区域 */
.text-column {
  flex: 55%; /* 占比 55% */
  background-color: #2c2a4a; /* 备用背景色 */
  background-image: linear-gradient(to bottom, #24003d, #4b0082); /* 渐变背景 */
  color: #f0e6ff; /* 文字颜色 */
  display: flex;
  justify-content: center; /* 内容水平居中 */
  align-items: center; /* 内容垂直居中 */
}

/* 诗歌整体样式 */
.poem {
  padding: 2rem;
  max-width: 400px; /* 限制宽度，避免太宽 */
  opacity: 0; /* 初始透明 */
  transform: translateY(30px); /* 初始下移 30px */
  transition: opacity 1.5s ease-out 0.5s, transform 1.5s ease-out 0.5s;
  /* 延迟 0.5s 的淡入+上移动画 */
}

/* 诗歌标题样式 */
.poem h1 {
  font-family: "Songti SC", "Source Han Serif SC", "Noto Serif SC", serif; /* 使用衬线字体 */
  font-size: 2.5rem;
  font-weight: 600;
  margin-bottom: 2rem;
  text-align: center;
  opacity: 0;
  transform: translateY(20px); /* 初始向下偏移 */
  transition: opacity 1.2s ease-out 0.8s, transform 1.2s ease-out 0.8s;
  /* 延迟 0.8s 的淡入+上移动画 */
}

/* 诗歌正文样式 */
.poem p {
  font-family: "PingFang SC", "Microsoft YaHei", "Noto Sans SC", sans-serif;
  font-size: 1.1rem;
  line-height: 1.9; /* 行距更舒适 */
  margin-bottom: 1.5rem;
  opacity: 0;
  transform: translateY(15px); /* 初始下移 */
  transition: opacity 1s ease-out, transform 1s ease-out; /* 渐显+位移动画 */
}

/* --- 逐句淡入效果：通过延迟控制 --- */
.poem p:nth-child(2) {
  transition-delay: 1s;
}
.poem p:nth-child(3) {
  transition-delay: 1.2s;
}
.poem p:nth-child(4) {
  transition-delay: 1.4s;
}
.poem p:nth-child(5) {
  transition-delay: 1.6s;
}

/* 音乐开关按钮 */
.music-toggle {
  position: fixed; /* 固定在页面右下角 */
  bottom: 40px;
  right: 40px;
  width: 50px;
  height: 50px;
  cursor: pointer; /* 鼠标悬停时显示小手 */
  opacity: 0; /* 初始隐藏 */
  transform: scale(0.7) rotate(-10deg); /* 初始缩小并倾斜 */
  transition: opacity 1s ease-in-out 1.8s, transform 1s ease-in-out 1.8s;
  /* 延迟 1.8s 出现 */
  z-index: 1001; /* 确保按钮在最上层 */
}

/* 鼠标悬停按钮时，稍微放大、恢复正向 */
.music-toggle:hover {
  transform: scale(1.1) rotate(0deg);
  transition: transform 0.3s ease-out;
}

/* 音乐开关按钮里的图片大小自适应 */
.music-toggle img {
  width: 100%;
  height: 100%;
  display: block;
}

/* 默认暂停图标隐藏 */
.icon-pause {
  display: none;
}

/* 当按钮处于"播放中"状态时：隐藏播放图标，显示暂停图标 */
.music-toggle.playing .icon-play {
  display: none;
}
.music-toggle.playing .icon-pause {
  display: block;
}

/* --- 页面加载完成状态下的样式 --- */
body.loaded .container {
  opacity: 1;
}

body.loaded .image-column {
  opacity: 1;
  transform: translateX(0); /* 图片归位 */
}

body.loaded .poem {
  opacity: 1;
  transform: translateY(0); /* 诗歌整体归位 */
}

body.loaded .poem h1 {
  opacity: 1;
  transform: translateY(0);
}

body.loaded .poem p {
  opacity: 1;
  transform: translateY(0);
}

body.loaded .music-toggle {
  opacity: 0.8; /* 按钮半透明出现 */
  transform: scale(1) rotate(0deg);
}

body.loaded .music-toggle:hover {
  opacity: 1; /* 悬停时更清晰 */
}
